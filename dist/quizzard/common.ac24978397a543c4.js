"use strict";(self.webpackChunkquizzard=self.webpackChunkquizzard||[]).push([[592],{8857:(p,c,s)=>{s.d(c,{d:()=>a});var d=s(4004),_=s(1135),o=s(5e3),u=s(2334),h=s(9586);let a=(()=>{class e{constructor(t,n){this._appService=t,this.db=n,this.round_num=1,this.game_score=0,this.score_box=[],this.gameDetailsBs=new _.X(0),this.itemsRef=n.list("quizdata",i=>i),this.items=this.itemsRef.snapshotChanges().pipe((0,d.U)(i=>i.map(l=>Object.assign({},l.payload.val())))),this.itemsRef=n.list("quizdata",i=>i.orderByChild("question"))}update_round(){this.gameDetailsBs.next({score:this.game_score,round:this.round_num})}add_score(t,n,i,l){let m=this._appService.read_key("user_score");this.game_score=m+l,this._appService.save_key("user_score",this.game_score),this.score_box.push({round:t,question:n,options:i}),this._appService.save_key("user_game_progress",this.score_box)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(u.I),o.LFG(h.KQ))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8788:(p,c,s)=>{s.d(c,{m:()=>a});var d=s(9808),_=s(541),o=s(5e3);const u=[];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[_.Bz.forChild(u)],_.Bz]}),e})(),a=(()=>{class e{static forChild(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[d.ez,h]]}),e})()},7454:(p,c,s)=>{s.d(c,{z:()=>h});var d=s(4004),_=s(5e3),o=s(9586),u=s(2334);let h=(()=>{class a{constructor(r,t){this.db=r,this._appService=t,this.itemsRef=r.list("scores",n=>n.orderByChild("points").limitToLast(10)),this.items=this.itemsRef.snapshotChanges().pipe((0,d.U)(n=>n.map(i=>Object.assign({key:i.payload.key},i.payload.val()))))}add_user_score(){let r=this._appService.fetch_user_score_details();this.addUserScore(r.user.email,JSON.parse(r.user_score?r.user_score:""))}addUserScore(r,t){this.itemsRef.push({email:r,points:t})}}return a.\u0275fac=function(r){return new(r||a)(_.LFG(o.KQ),_.LFG(u.I))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);