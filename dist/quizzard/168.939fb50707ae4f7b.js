"use strict";(self.webpackChunkquizzard=self.webpackChunkquizzard||[]).push([[168],{4168:(O,l,r)=>{r.r(l),r.d(l,{QuizroundModule:()=>S});var a=r(9808),d=r(541),h=r(4004),t=r(5e3),m=r(2334),p=r(8857),g=r(7454);let q=(()=>{class i{constructor(e){this._quizService=e,this.score=0,this.round=1}ngOnInit(){this._quizService.gameDetailsBs.subscribe(e=>{console.log("s",e),this.score=e.score,this.round=e.round})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["application-header"]],decls:16,vars:2,consts:[[1,"navbar","navbar-light","bg-light"],[1,"container-fluid","game_details_wrap"],[1,"game_details"],[1,"detail_block"],[1,"detail_block_value"]],template:function(e,n){1&e&&(t.TgZ(0,"nav",0),t.TgZ(1,"div",1),t._UZ(2,"div"),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t.TgZ(5,"span"),t._uU(6,"Round: "),t.qZA(),t.TgZ(7,"span",4),t.TgZ(8,"strong"),t._uU(9),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div",3),t.TgZ(11,"span"),t._uU(12,"Score: "),t.qZA(),t.TgZ(13,"span",4),t.TgZ(14,"strong"),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.hij(" ",n.round," "),t.xp6(6),t.hij(" ",n.score," "))},styles:[""]}),i})();const _=["*"];let z=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-option"]],ngContentSelectors:_,decls:2,vars:0,consts:[[1,"quiz-option-in"]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:[""]}),i})();function v(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-option",10,11),t.NdJ("click",function(o){return t.CHM(e),t.oxw(2).option_chosen(o)}),t._uU(2),t.qZA()}if(2&i){const e=s.$implicit;t.Q6J("id",e.id)("ngClass",e.user?e.user:"wrong")("ngClass",e.answer?e.answer:""),t.xp6(2),t.hij(" ",e.name," ")}}function f(i,s){if(1&i&&(t.TgZ(0,"div",8),t.YNc(1,v,3,4,"app-option",9),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.options)}}let Z=(()=>{class i{constructor(e,n,o,u,c,A,x){this.router=e,this._ar=n,this.cd=o,this.r2=u,this._appService=c,this._quizService=A,this._userScoreService=x,this.clickedOnce=!1,this.buttonSubscription=null,this.quiz_data=[],this.quizdata=[{question:"What is A ?",options:[{id:1,name:"A letter",correct:!0},{id:2,name:"D letter"},{id:3,name:"E letter"},{id:4,name:"G letter"}]},{question:"What is R ?",options:[{id:1,name:"S letter"},{id:2,name:"R letter",correct:!0},{id:3,name:"N letter"},{id:4,name:"K letter"}]},{question:"What is S ?",options:[{id:1,name:"S letter"},{id:2,name:"R letter"},{id:3,name:"S letter",correct:!0},{id:4,name:"K letter"}]},{question:"What is Z ?",options:[{id:1,name:"S letter"},{id:2,name:"R letter"},{id:3,name:"S letter"},{id:4,name:"Z letter",correct:!0}]},{question:"What is T ?",options:[{id:1,name:"T letter",correct:!0},{id:2,name:"R letter"},{id:3,name:"S letter"},{id:4,name:"Z letter"}]}],this.question="",this.options=[],this.qset={},this.round_num=1,this.score_gain=20,this.score_loose=5,this.scored_round_points=0}ngAfterViewInit(){var e=document.querySelector(".quiz-round-info"),n=document.querySelector(".quiz-round-num"),o=document.querySelector(".quiz-option");this.shuffle(this.quizdata),console.log("this.quizdata",this.quizdata),this.options=[],this._ar.params.subscribe(u=>{this._quizService.round_num=u.num,console.log("this.round_num",this._quizService.round_num),this.question=this.quizdata[this._quizService.round_num-1].question,this.options=this.quizdata[this._quizService.round_num-1].options,this.round_progress(),anime.timeline({duration:1200}).add({targets:e,opacity:[0,1],translateY:["-100vh",0],duration:1200}).add({targets:n,scale:[0,1],duration:1200}).add({targets:e,opacity:[1,0],translateY:[0,"-100vh"],duration:1200,delay:2200}).add({targets:n,scale:[1,0],duration:1200},"-=1500"),anime({targets:o,opacity:[0,1],scale:[.6,1],duration:1200,delay:anime.stagger(1200)})}),this.option_chosen(document),console.log("qset",this.qset),this.cd.detectChanges()}ngOnInit(){this._quizService.items.pipe((0,h.U)(e=>e)).subscribe(e=>{e.map(n=>{this.quizdata.push(n)})}),console.log("quizdata",this.quizdata)}shuffle(e){let o,n=e.length;for(;0!=n;)o=Math.floor(Math.random()*n),n--,[e[n],e[o]]=[e[o],e[n]];return e}round_progress(){this.round_num=this._quizService.round_num,this._quizService.update_round()}process_result(e){this.scored_round_points=0;let n=parseInt(e);this.options[n-1].selected=!0,this.options.filter(o=>{if(1==o.correct){let u=o;o.answer="right",console.log(u,parseInt(e)),u.id===parseInt(e)&&(console.log("A MATCH"),o.user="right",this.scored_round_points=this.score_gain)}})}option_chosen(e){var n=e.target?e.target.parentElement:null,o=e.target?e.target.parentElement.id:null;o&&(this.process_result(o),console.log("button subscribe",e,"all options",this.options,"this option",o),this.r2.addClass(n,"selected"),this._quizService.add_score(this._quizService.round_num,this.question,this.options,this.scored_round_points),setTimeout(()=>{this.clickedOnce=!1,this.options=[],this._quizService.round_num>=5?(this._userScoreService.add_user_score(),this.router.navigate(["./application/userscore"])):(this.router.navigate(["./application/quizround/"+ ++this._quizService.round_num]),this.round_progress())},4e3),this.clickedOnce=!0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.F0),t.Y36(d.gz),t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(m.I),t.Y36(p.d),t.Y36(g.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-quizround"]],decls:18,vars:3,consts:[[1,"quiz-round-info"],["quiz_round_info",""],[1,"quiz-round-num"],["quiz_round_num",""],[1,"quiz-round-num-in"],[1,"quiz-round"],[1,"question"],["class","options",4,"ngIf"],[1,"options"],["class","quiz-option",3,"id","ngClass","click",4,"ngFor","ngForOf"],[1,"quiz-option",3,"id","ngClass","click"],["opts",""]],template:function(e,n){1&e&&(t._UZ(0,"application-header"),t.TgZ(1,"div",0,1),t.TgZ(3,"div",2,3),t.TgZ(5,"div",4,3),t.TgZ(7,"div"),t.TgZ(8,"div"),t.TgZ(9,"h4"),t._uU(10,"Round"),t.qZA(),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"h3"),t._uU(13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",5),t.TgZ(15,"div",6),t._uU(16),t.qZA(),t.YNc(17,f,2,1,"div",7),t.qZA()),2&e&&(t.xp6(13),t.hij(" ",n.round_num,""),t.xp6(3),t.hij(" ",n.question," "),t.xp6(1),t.Q6J("ngIf",n.options))},directives:[q,a.O5,a.sg,z,a.mk],styles:[".quiz-round-info[_ngcontent-%COMP%]{position:absolute;opacity:0;left:0;right:0;z-index:6756;top:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.4)}.quiz-round-info[_ngcontent-%COMP%]   .quiz-round-num[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;z-index:6759;margin:-80px auto 0;width:160px;height:160px}.quiz-round-info[_ngcontent-%COMP%]   .quiz-round-num[_ngcontent-%COMP%]   .quiz-round-num-in[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;width:100%;height:100%;border-radius:200px;background-color:var(--a3-d);color:#fff;box-shadow:0 0 30px 0 var(--a3-d)}"]}),i})();var C=r(8788);const T=[{path:"",component:Z}];let S=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.ez,d.Bz.forChild(T),C.m.forChild()]]}),i})()}}]);